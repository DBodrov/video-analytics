{"info":{"version":"0.19.dev163","title":"va","description":"powered by Flasgger","termsOfService":"/tos"},"paths":{"/api/va/heartbeat":{"get":{"summary":"# Доступность сервиса","description":"# ","responses":{"200":{"description":"Сервис доступен","schema":{"$ref":"#/definitions/heartbeat_get_response_200"}}},"tags":["Core"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/locations":{"get":{"summary":"# Сведения о всех площадках по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех площадках по всем компаниям","schema":{"$ref":"#/definitions/locations_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/sensors":{"get":{"summary":"# Сведения о всех датчиках по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех датчиках по всем компаниям","schema":{"$ref":"#/definitions/sensors_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/about":{"get":{"summary":"# Сведения о сервисе и API","description":"# ","responses":{"200":{"description":"Сведения о сервисе и API","schema":{"$ref":"#/definitions/about_get_response_200"}}},"tags":["Core"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}/sensors/{sensor_id}/checks/{check_id}":{"patch":{"summary":"# Обновление данных о правиле физического конвейера компании","description":"# ","responses":{"204":{"description":"Данные успешно обновлены","schema":{"$ref":"#/definitions/pipeline-sensor-check_patch_response_204"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/pipeline-sensor-check_patch_error"}},"404":{"description":"Правило физического конвейера не найдено","schema":{"$ref":"#/definitions/pipeline-sensor-check_patch_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"},{"name":"check_id","in":"path","type":"integer","required":true,"description":"Идентификатор правила"},{"name":"request","in":"body","required":true,"description":"Сведения о правиле физического конвейера компании","schema":{"$ref":"#/definitions/pipeline-sensor-check_patch_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о правиле физического конвейера компании","description":"# ","responses":{"200":{"description":"Сведения о правиле физического конвейера компании","schema":{"$ref":"#/definitions/pipeline-sensor-check_get_response_200"}},"404":{"description":"Конвейер не найден","schema":{"$ref":"#definitions/pipeline-sensor-check_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор логического конвейера"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"},{"name":"check_id","in":"path","type":"integer","required":true,"description":"Идентификатор правила"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}/sensors/{sensor_id}":{"patch":{"summary":"# Обновление сведений о конвейере обработки данных","description":"# ","responses":{"204":{"description":"Изменения сохранены","schema":{"$ref":"#/definitions/pipeline-sensor_patch_response_204"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"},{"name":"request","in":"body","required":true,"description":"Актуальные данные по конвейеру","schema":{"$ref":"#/definitions/pipeline-sensor_patch_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}/checks/{check_id}":{"patch":{"summary":"# Изменение существующей связки правило-конвейер обработки","description":"# ","responses":{"204":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/pipeline-check_patch_response_204"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/pipeline-check_patch_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера"},{"name":"check_id","in":"path","type":"integer","required":true,"description":"Идентификатор правила"},{"name":"request","in":"body","required":true,"description":"Сведения о связке правило-конвейер обработки данных","schema":{"$ref":"#/definitions/pipeline-check_patch_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о связке правило-логический конвейер обработки данных компании","description":"# ","responses":{"200":{"description":"Сведения о связке правило-логический конвейер обработки данных компании","schema":{"$ref":"#/definitions/pipeline-check_get_response_200"}},"404":{"description":"Связка не найдена","schema":{"$ref":"#definitions/pipeline-check_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор логического конвейера"},{"name":"check_id","in":"path","type":"integer","required":true,"description":"Идентификатор правила"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}/checks":{"get":{"summary":"# Сведения о связках правило-логический конвейер компании","description":"# ","responses":{"200":{"description":"Сведения о связках правило-логический конвейер компании","schema":{"$ref":"#/definitions/pipeline-checks_get_response_200"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#/definitions/pipeline-checks_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор логического конвейера"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/sensors/{sensor_id}/stats":{"get":{"summary":"# Статистические показатели по датчику","description":"# ","responses":{"200":{"description":"Статистика по въезжающим/выезжающим транспортным средствам","schema":{"$ref":"#/definitions/company-sensor-stats_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-sensor-stats_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"sensor_id","in":"path","type":"string","required":false,"description":"Идентификатор датчика"},{"name":"location_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"toc_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"string","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/more":{"get":{"summary":"# Наличие новых событий после указанного события","description":"# ","responses":{"200":{"description":"Количество событий после указанного","schema":{"$ref":"#/definitions/more-events_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/more-events_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"after_id","in":"query","type":"integer","required":false,"description":"Новые события после события с данным идентификатором"},{"name":"check_category_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов шаблонов"},{"name":"check_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов проверок"},{"name":"location_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"sensor_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов датчиков через запятую"},{"name":"toc_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"string","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/{event_code}/status":{"post":{"summary":"# Изменение статуса события","description":"# ","responses":{"201":{"description":"Статус успешно изменен","schema":{"$ref":"#/definitions/event-status_post_response_201"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/event-status_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"event_code","in":"path","type":"string","required":true,"description":"Код события"},{"name":"request","in":"body","required":true,"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/event-status_post_request"}}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/locations/{location_id}":{"delete":{"summary":"# Удаление площадки компании","description":"# ","responses":{"204":{"description":"Площадка успешно удалена","schema":{"$ref":"#/definitions/company-location_delete_response_204"}},"404":{"description":"Площадка не найдена","schema":{"$ref":"#/definitions/company-location_delete_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"location_id","in":"path","type":"integer","required":true,"description":"Идентификатор площадки"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"patch":{"summary":"# Обновление данных о площадке компании","description":"# ","responses":{"204":{"description":"Данные успешно обновлены","schema":{"$ref":"#/definitions/company-locations_patch_response_204"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-locations_patch_error"}},"404":{"description":"Площадка не найдена","schema":{"$ref":"#/definitions/company-locations_patch_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"location_id","in":"path","type":"integer","required":true,"description":"Идентификатор площадки"},{"name":"request","in":"body","required":true,"description":"Сведения о площадке компании","schema":{"$ref":"#/definitions/company-locations_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о площадке компании","description":"# ","responses":{"200":{"description":"Сведения о площадке компании","schema":{"$ref":"#/definitions/company-location_get_response_200"}},"404":{"description":"Площадка не найдена","schema":{"$ref":"#definitions/company-location_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"location_id","in":"path","type":"integer","required":true,"description":"Идентификатор площадки"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}":{"put":{"summary":"# Изменение существующего конвейера обработки","description":"# ","responses":{"204":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/pipeline_put_response_204"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/pipeline_put_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера"},{"name":"request","in":"body","required":true,"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/pipeline_put_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о конвейере обработки данных","description":"# ","responses":{"200":{"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/pipeline_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/incidents/{incident_id}":{"get":{"summary":"# Сведения об инциденте","description":"# ","responses":{"200":{"description":"Сведения об инциденте","schema":{"$ref":"#/definitions/incident_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/incident_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/locations":{"post":{"summary":"# Добавление новой площадки компании","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-locations_post_response_201"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-locations_post_error"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#definitions/company-locations_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о площадке компании","schema":{"$ref":"#/definitions/company-locations_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о площадках компании","description":"# ","responses":{"200":{"description":"Сведения о площадках компании","schema":{"$ref":"#/definitions/company-locations_get_response_200"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#/definitions/company-locations_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines":{"post":{"summary":"# Сохранение нового конвейера обработки","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-pipelines_post_response_201"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-pipelines_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/company-pipelines_post_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о конвейерах обработки данных","description":"# ","responses":{"200":{"description":"Сведения о конвейерах обработки данных","schema":{"$ref":"#/definitions/pipelines_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/incidents":{"get":{"summary":"# Инциденты за указанный период","description":"# ","responses":{"200":{"description":"Перечень инцидентов","schema":{"$ref":"#/definitions/incidents_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/incidents_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"after_id","in":"query","type":"integer","required":false,"description":"Новые инциденты после инцидента с данным идентификатором"},{"name":"page","in":"query","type":"integer","required":false,"description":"Порядковый номер страницы с данными"},{"name":"page_size","in":"query","type":"integer","required":false,"description":"Количество записей на странице"},{"name":"sort_by","in":"query","type":"string","required":false,"description":"Порядок сортировки данных (\"asc\", \"desc\")"},{"name":"check_category_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов шаблонов"},{"name":"check_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов проверок через запятую"},{"name":"location_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"sensor_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов датчиков через запятую"},{"name":"toc_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/timeline":{"get":{"summary":"# Хронология событий и инцидентов за указанный период","description":"# ","responses":{"200":{"description":"Перечень событий и инцидентов","schema":{"$ref":"#/definitions/timeline_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/timeline_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"sort_by","in":"query","type":"string","required":false,"description":"Порядок сортировки данных (\"asc\", \"desc\")"},{"name":"check_category_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов шаблонов"},{"name":"check_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов проверок"},{"name":"location_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"sensor_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов датчиков через запятую"},{"name":"toc_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/sensors/{sensor_id}":{"delete":{"summary":"# Удаление датчика компании","description":"# ","responses":{"204":{"description":"Датчик успешно удалён","schema":{"$ref":"#/definitions/company-sensor_delete_response_204"}},"404":{"description":"Датчик не найден","schema":{"$ref":"#/definitions/company-sensor_delete_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"patch":{"summary":"# Обновление данных о датчике компании","description":"# ","responses":{"204":{"description":"Данные успешно обновлены","schema":{"$ref":"#/definitions/company-sensor_patch_response_204"}},"404":{"description":"Датчик не найден","schema":{"$ref":"#/definitions/company-sensor_patch_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"},{"name":"request","in":"body","required":true,"description":"Сведения о датчике компании","schema":{"$ref":"#/definitions/company-sensor_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о датчике компании","description":"# ","responses":{"200":{"description":"Сведения о датчике компании","schema":{"$ref":"#/definitions/company-sensor_get_response_200"}},"404":{"description":"Датчик не найден","schema":{"$ref":"#definitions/company-sensor_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"sensor_id","in":"path","type":"integer","required":true,"description":"Идентификатор датчика"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/reports/{report_id}":{"post":{"summary":"# Формирование отчёта компании по параметрам","description":"# ","responses":{"200":{"description":"Отчёт успешно сформирован","schema":{"$ref":"#/definitions/company-reports_post_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-reports_post_error"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#definitions/company-reports_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Параметры отчёта компании","schema":{"$ref":"#/definitions/company-reports_post_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/sensors":{"post":{"summary":"# Добавление нового датчика компании","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-sensors_post_response_201"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#definitions/company-sensors_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о датчике компании","schema":{"$ref":"#/definitions/company-sensors_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о датчиках компании","description":"# ","responses":{"200":{"description":"Сведения о датчиках компании","schema":{"$ref":"#/definitions/company-sensors_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/reports":{"get":{"summary":"# Сведения об отчётах компании","description":"# ","responses":{"200":{"description":"Сведения об отчётах компании","schema":{"$ref":"#/definitions/company-reports_get_response_200"}},"404":{"description":"Компания не найдена","schema":{"$ref":"#/definitions/company-reports_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/{event_code}":{"get":{"summary":"# Сведения о событии","description":"# ","responses":{"200":{"description":"Сведения о событии","schema":{"$ref":"#/definitions/event_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/event_get_error"}},"404":{"description":"Событие не найдено","schema":{"$ref":"#/definitions/event_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"event_code","in":"path","type":"string","required":true,"description":"Код события"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/models":{"post":{"summary":"# Сохранение модели и категорий отслеживаемых объектов","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-models_response_201"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о модели и категориях отслеживаемых объектов","schema":{"$ref":"#/definitions/company-models_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events":{"get":{"summary":"# События за указанный период","description":"# ","responses":{"200":{"description":"Перечень событий","schema":{"$ref":"#/definitions/events_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/events_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"after_id","in":"query","type":"integer","required":false,"description":"Новые события после события с данным идентификатором"},{"name":"page","in":"query","type":"integer","required":false,"description":"Порядковый номер страницы с данными"},{"name":"page_size","in":"query","type":"integer","required":false,"description":"Количество записей на странице"},{"name":"sort_by","in":"query","type":"string","required":false,"description":"Порядок сортировки данных (\"asc\", \"desc\")"},{"name":"check_category_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов шаблонов"},{"name":"check_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов проверок"},{"name":"location_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"sensor_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов датчиков через запятую"},{"name":"toc_ids","in":"query","type":"string","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"string","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}}},"definitions":{"heartbeat_get_response_200":{"type":"object"},"locations_get_response_200":{"type":"object","required":["locations"],"properties":{"locations":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","category"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"},"code":{"type":"string","description":"Код площадки"},"name":{"type":"string","description":"Краткое название площадки"},"description":{"type":"string","description":"Описание площадки"},"by_default":{"type":"boolean","description":"Отображаемая площадка по умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"category":{"type":"object","required":["id","code","name","description"],"description":"Категория площадки","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"name":{"type":"string","description":"Краткое название категории"},"code":{"type":"string","description":"Код категории"},"description":{"type":"string","description":"Описание категории"}}}}}}}},"sensors_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"description":"HTTP-код ответа","type":"integer"}}},"sensors_get_response_200":{"type":"object","required":["sensors"],"properties":{"sensors":{"type":"array","items":{"type":"object","required":["ref","status","metrics"],"description":"Сведения о датчике","properties":{"ref":{"type":"object","required":["id","code","name","description","company_id","location_id","address","url"],"description":"Редко изменяемые справочные данные датчика","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"code":{"type":"string","description":"Код датчика"},"name":{"type":"string","description":"Краткое название датчика"},"description":{"type":"string","description":"Описание датчика"},"company_id":{"type":"integer","description":"Идентификатор компании"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"address":{"type":"string","description":"Расположение датчика"},"url":{"type":"string","description":"Адрес видеопотока"}}},"status":{"type":"object","required":["id","code","name","description"],"description":"Статус датчика","properties":{"id":{"type":"integer","description":"Идентификатор статуса"},"code":{"type":"string","description":"Код статуса"},"name":{"type":"string","description":"Название статуса"},"description":{"type":"string","description":"Описание статуса"}}},"metrics":{"type":"object","required":["active_checks"],"description":"Метрики датчика","properties":{"active_check_category_ids":{"type":"array","description":"Список идентификаторов активных шаблонов","items":{"type":"integer"}},"active_check_ids":{"type":"array","description":"Список идентификаторов активных правил","items":{"type":"integer"}},"active_incident_ids":{"type":"array","description":"Список идентификаторов активных инцидентов","items":{"type":"integer"}},"inactive_check_ids":{"type":"array","description":"Список идентификаторов неактивных правил","items":{"type":"integer"}},"inactive_incident_ids":{"type":"array","description":"Список идентификаторов неактивных инцидентов","items":{"type":"integer"}}}}}}}}},"about_get_response_200":{"type":"object","description":"Сведения о сервисе и API","required":["commit","env","name","resources","timestamp","version"],"properties":{"commit":{"type":"string","description":"Идентификатор последнего коммита"},"env":{"type":"string","description":"Название среды"},"name":{"type":"string","description":"Название сервиса"},"resources":{"type":"array","description":"Методы API","items":{"type":"object","required":["name","methods","section","urls"],"properties":{"name":{"type":"string","description":"Название метода"},"methods":{"type":"array","items":{"type":"string","description":"Доступные HTTP-методы"}},"section":{"type":"string","description":"Раздел"},"urls":{"type":"array","items":{"type":"string","description":"Перечень URL, по которым доступен метод"}}}}},"timestamp":{"type":"string","description":"Дата и время сборки"},"version":{"type":"string","description":"Версия API"}}},"pipeline-sensor-check_patch_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"pipeline-sensor-check_patch_request":{"type":"object","description":"Сведения о правиле физического конвейера компании","properties":{"enabled":{"type":"boolean","description":"Признак активного правила"},"extra":{"type":"object","description":"Дополнительные параметры правила в JSON-формате"},"markup":{"type":"object","required":["polygons"],"description":"Разметка камеры","properties":{"polygons":{"type":"array","description":"Массив полигонов","items":{"type":"array","description":"Массив точек","items":{"type":"object","required":["x","y","sequence"],"description":"Описание точки","properties":{"x":{"type":"integer","description":"Абсолютная Х-координата точки"},"y":{"type":"integer","description":"Абсолютная У-координата точки"},"sequence":{"type":"integer","description":"Порядковый номер точки внутри полигона"}}}}}}}}},"pipeline-sensor-check_patch_response_204":{"type":"object"},"pipeline-sensor-check_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"pipeline-sensor-check_get_response_200":{"type":"object","required":["id","enabled"],"description":"Сведения о правиле физического конвейера компании","properties":{"id":{"type":"integer","description":"Идентификатор правила"},"enabled":{"type":"boolean","description":"Признак активного правила"},"parameters":{"type":"object","description":"Дополнительные параметры правила"},"markup":{"type":"object","required":["polygons"],"description":"Разметка камеры","properties":{"polygons":{"type":"array","description":"Массив полигонов","items":{"type":"array","description":"Массив точек","items":{"type":"object","required":["x","y","sequence"],"description":"Описание точки","properties":{"x":{"type":"integer","description":"Абсолютная Х-координата точки"},"y":{"type":"integer","description":"Абсолютная У-координата точки"},"sequence":{"type":"integer","description":"Порядковый номер точки внутри полигона"}}}}}}}}},"pipeline-sensor_patch_request":{"type":"object","required":["deploy"],"properties":{"deploy":{"type":"object"}}},"pipeline-sensor_patch_204":{"type":"object"},"pipeline-check_patch_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"pipeline-check_patch_request":{"type":"object","required":["enabled"],"properties":{"enabled":{"type":"boolean","description":"Признак активной связки правило-конвейер"}}},"pipeline-check_patch_response_204":{"type":"object"},"pipeline-check_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"pipeline-check_get_response_200":{"type":"object","required":["id","pipeline_id","check_id","enabled"],"description":"Сведения о связке правило-логический конвейер компании","properties":{"id":{"type":"integer","description":"Идентификатор связки"},"pipeline_id":{"type":"integer","description":"Идентификатор логического конвейера"},"check_id":{"type":"integer","description":"Идентификатор правила"},"enabled":{"type":"boolean","description":"Признак активной связки"}}},"pipeline-checks_get_response_200":{"type":"object","required":["checks"],"properties":{"checks":{"type":"array","items":{"type":"object","required":["id","pipeline_id","check_id","enabled"],"description":"Сведения о связке правило-логический конвейер компании","properties":{"id":{"type":"integer","description":"Идентификатор связки"},"pipeline_id":{"type":"integer","description":"Идентификатор логического конвейера"},"check_id":{"type":"integer","description":"Идентификатор правила"},"enabled":{"type":"boolean","description":"Признак активной связки"}}}}}},"company-sensor-stats_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-sensor-stats_get_response_200":{"type":"object","required":["stats","period"],"properties":{"stats":{"type":"array","description":"Статистические показатели","items":{"type":"object","required":["period","location_id","sensor_id","toc_id","events","incidents"],"description":"Статистические показатели в разрезе площадки, датчика и категории отслеживаемого объекта","properties":{"period":{"type":"string","description":"Период показаний"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"events":{"type":"integer","description":"Количество событий за период"},"incidents":{"type":"integer","description":"Количество инцидентов за период"}}}}}},"more-events_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"more-events_get_response_200":{"type":"object","required":["after_event_id","count","period"],"properties":{"after_event_id":{"type":"integer","description":"Новые события после события с данным идентификатором"},"count":{"type":"integer","description":"Количество новых событий"},"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}}}},"event-status_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"event-status_post_request":{"type":"object","required":["status_id"],"properties":{"status_id":{"type":"integer","description":"Идентификатор нового статуса"}}},"event-status_post_response_201":{"type":"object"},"company-location_delete_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-location_delete_response_204":{"type":"object"},"company-locations_patch_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-locations_request":{"type":"object","required":["name","description"],"properties":{"name":{"type":"string","description":"Название площадки"},"description":{"type":"string","description":"Описание площадки"}}},"company-locations_patch_response_204":{"type":"object"},"company-location_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-location_get_response_200":{"type":"object","required":["id","code","name","description","company_id"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"},"code":{"type":"string","description":"Код площадки"},"name":{"type":"string","description":"Краткое название площадки"},"description":{"type":"string","description":"Описание площадки"},"company_id":{"type":"integer","description":"Идентификатор компании"}}},"pipeline_put_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"pipeline_put_request":{"type":"object","required":["enabled"],"properties":{"enabled":{"type":"boolean","description":"Признак активного конвейера"}}},"pipeline_put_response_204":{"type":"object"},"pipeline_get_response_200":{"type":"object","required":["company_id","by_sensor","enabled","deploy","id"],"description":"Сведения о конвейере","properties":{"id":{"type":"integer","description":"Идентификатор конвейера"},"company_id":{"type":"integer","description":"Идентификатор компании"},"enabled":{"type":"boolean","description":"Признак активного конвейера"},"deploy":{"type":"object","description":"Параметры деплоя конвейера"},"by_sensor":{"type":"array","description":"Перечень физических конвейеров","items":{"type":"object","required":["checks","detector","id","status_id","incidents","tracker"],"description":"Описание физического конвейера","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"status_id":{"type":"integer","description":"Идентификатор статуса датчика"},"checks":{"type":"array","description":"Набор проверок","items":{"type":"object","required":["id","enabled","next_ids","parameters"],"description":"Описание проверки","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"enabled":{"type":"boolean","description":"Признак активной проверки"},"next_ids":{"type":"array","description":"Список следующих проверок за текущей","items":{"type":"integer"}},"parameters":{"type":"object","description":"Параметры проверки"}}}},"detector":{"type":"object","required":["id","parameters"],"description":"Описание детектора","properties":{"id":{"type":"integer","description":"Идентификатор детектора"},"parameters":{"type":"object","description":"Параметры детектора"}}},"incidents":{"type":"array","description":"Набор инцидентов","items":{"type":"object","required":["id","parameters","check_ids"],"description":"Описание инцидента","properties":{"id":{"type":"integer","description":"Идентификатор инцидента"},"parameters":{"type":"object","description":"Параметры инцидента"},"check_ids":{"type":"array","description":"Перечень идентификаторов проверок по инциденту","items":{"type":"integer"}}}}},"tracker":{"type":"object","required":["id","parameters"],"description":"Описание трекера","properties":{"id":{"type":"integer","description":"Идентификатор трекера"},"parameters":{"type":"object","description":"Параметры трекера"}}}}}}}},"incident_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"incident_get_response_200":{"type":"object","required":["incidents","pagination","period"],"properties":{"incident":{"type":"object","required":["category_id","id","event_ids","image","location_id","period","sensor_id","status","toc_id","thumbnail","tracked_object"],"description":"Сведения об инциденте","properties":{"category_id":{"type":"integer","description":"Идентификатор категории инцидента"},"id":{"type":"integer","description":"Идентификатор инцидента"},"event_ids":{"type":"array","description":"Список идентификаторов событий по инциденту","items":{"type":"integer"}},"image":{"type":"object","required":["id","compression","width","height","track_box","content"],"description":"Сведения об изображении","properties":{"id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"width":{"type":"integer","description":"Ширина изображения"},"height":{"type":"integer","description":"Высота изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}},"location_id":{"type":"integer","description":"Идентификатор площадки"},"period":{"type":"object","required":["start","end"],"description":null,"properties":{"start":{"type":"object","required":["event_id","time"],"description":null,"properties":{"event_id":{"type":"integer","description":"Идентификатор первого события в инциденте"},"time":{"type":"string","description":"Дата и время первого события в инциденте"}}},"end":{"type":"object","required":["event_id","time"],"description":{"event_id":{"type":"integer","description":"Идентификатор последнего события в инциденте"},"time":{"type":"string","description":"Дата и время последнего события в инциденте"}}}}},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"status":{"type":"object","required":["next_ids"],"description":"Статус события","properties":{"current_id":{"type":"integer","description":"Идентификатор текущего статуса"},"next_ids":{"type":"array","description":"Перечень идентификаторов следующих статусов","items":{"type":"integer"}}}},"thumbnail":{"type":"object","required":["category_id","compression","content","height","id","image_id","track_box","width"],"description":"Превью изображения по инциденту","properties":{"category_id":{"type":"integer","description":"Идентификатор категории изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"},"height":{"type":"integer","description":"Высота изображения"},"id":{"type":"integer","description":"Идентификатор превью изображения"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"width":{"type":"integer","description":"Ширина изображения"}}},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"tracked_object":{"type":"object","required":["code","extra","id"],"description":"Сведения об обнаруженном объекте","properties":{"id":{"type":"integer","description":"Идентификатор транспортного средства"},"code":{"type":"string","description":"Код транспортного средства"},"extra":{"type":"array","description":"Перечень дополнительных атрибутов по обнаруженному объекту","items":{"type":"object","required":["code","display_order","id","name","value"],"description":"Дополнительная информация","properties":{"code":{"type":"string","description":"Код атрибута"},"display_order":{"type":"integer","description":"Порядковый номер при отображении на портале"},"id":{"type":"integer","description":"Идентификатор атрибута"},"name":{"type":"string","description":"Название атрибута"},"value":{"type":"string","description":"Значение атрибута"}}}}}}}}}},"company-locations_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-locations_post_response_201":{"type":"object"},"company-locations_get_response_200":{"type":"object","required":["locations"],"properties":{"locations":{"type":"array","items":{"type":"object","required":["id","code","name","description","company_id"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"},"code":{"type":"string","description":"Код площадки"},"name":{"type":"string","description":"Краткое название площадки"},"description":{"type":"string","description":"Описание площадки"},"company_id":{"type":"integer","description":"Идентификатор компании"}}}}}},"company-pipelines_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-pipelines_post_request":{"type":"object","required":["name","description","conf"],"properties":{"name":{"type":"string","description":"Название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["check_ids","polygon"],"description":"Конфигурация конвейера","properties":{"check_ids":{"type":"array","description":"Перечень идентификаторов проверок","items":{"type":"integer"}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}}}}}},"company-pipelines_post_response_201":{"type":"object"},"pipelines_get_response_200":{"type":"object","required":["pipelines"],"properties":{"pipelines":{"type":"array","items":{"type":"object","required":["company_id","by_sensor","enabled","deploy","id"],"description":"Сведения о конвейере","properties":{"id":{"type":"integer","description":"Идентификатор конвейера"},"company_id":{"type":"integer","description":"Идентификатор компании"},"enabled":{"type":"boolean","description":"Признак активного конвейера"},"deploy":{"type":"object","description":"Параметры деплоя конвейера"},"by_sensor":{"type":"array","description":"Перечень физических конвейеров","items":{"type":"object","required":["checks","detector","id","status_id","incidents","tracker"],"description":"Описание физического конвейера","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"status_id":{"type":"integer","description":"Идентификатор статуса датчика"},"checks":{"type":"array","description":"Набор проверок","items":{"type":"object","required":["id","enabled","parameters"],"description":"Описание проверки","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"enabled":{"type":"boolean","description":"Признак активной проверки"},"next_ids":{"type":"array","description":"Список следующих проверок за текущей","items":{"type":"integer"}},"parameters":{"type":"object","description":"Параметры проверки"}}}},"detector":{"type":"object","required":["id","parameters"],"description":"Описание детектора","properties":{"id":{"type":"integer","description":"Идентификатор детектора"},"parameters":{"type":"object","description":"Параметры детектора"}}},"incidents":{"type":"array","description":"Набор инцидентов","items":{"type":"object","required":["id","parameters","check_ids"],"description":"Описание инцидента","properties":{"id":{"type":"integer","description":"Идентификатор инцидента"},"parameters":{"type":"object","description":"Параметры проверки"},"check_ids":{"type":"array","description":"Перечень идентификаторов проверок по инциденту","items":{"type":"integer"}}}}},"tracker":{"type":"object","required":["id","parameters"],"description":"Описание трекера","properties":{"id":{"type":"integer","description":"Идентификатор трекера"},"parameters":{"type":"object","description":"Параметры трекера"}}}}}}}}}}},"incidents_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"incidents_get_response_200":{"type":"object","required":["incidents","pagination","period"],"properties":{"pagination":{"type":"object","required":["page","page_size","count"],"description":"Сведения о пагинации данных","properties":{"page":{"type":"integer","description":"Запрашиваемый номер страницы с данными"},"page_size":{"type":"integer","description":"Запрашиваемое количество записей на странице"},"count":{"type":"integer","description":"Количество записей на странице"}}},"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых инцидентов","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"incidents":{"type":"array","description":"Перечень инцидентов","items":{"type":"object","required":["category_id","id","event_ids","image","location_id","period","sensor_id","status","toc_id","thumbnail","tracked_object"],"description":"Сведения об инциденте","properties":{"category_id":{"type":"integer","description":"Идентификатор категории инцидента"},"id":{"type":"integer","description":"Идентификатор инцидента"},"event_ids":{"type":"array","description":"Список идентификаторов событий по инциденту","items":{"type":"integer"}},"image":{"type":"object","required":["id","compression","width","height","track_box","content"],"description":"Сведения об изображении","properties":{"id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"width":{"type":"integer","description":"Ширина изображения"},"height":{"type":"integer","description":"Высота изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}},"location_id":{"type":"integer","description":"Идентификатор площадки"},"period":{"type":"object","required":["start","end"],"description":null,"properties":{"start":{"type":"object","required":["event_id","time"],"description":null,"properties":{"event_id":{"type":"integer","description":"Идентификатор первого события в инциденте"},"time":{"type":"string","description":"Дата и время первого события в инциденте"}}},"end":{"type":"object","required":["event_id","time"],"description":{"event_id":{"type":"integer","description":"Идентификатор последнего события в инциденте"},"time":{"type":"string","description":"Дата и время последнего события в инциденте"}}}}},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"status":{"type":"object","required":["next_ids"],"description":"Статус события","properties":{"current_id":{"type":"integer","description":"Идентификатор текущего статуса"},"next_ids":{"type":"array","description":"Перечень идентификаторов следующих статусов","items":{"type":"integer"}}}},"thumbnail":{"type":"object","required":["category_id","compression","content","height","id","image_id","track_box","width"],"description":"Превью изображения по инциденту","properties":{"category_id":{"type":"integer","description":"Идентификатор категории изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"},"height":{"type":"integer","description":"Высота изображения"},"id":{"type":"integer","description":"Идентификатор превью изображения"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"width":{"type":"integer","description":"Ширина изображения"}}},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"tracked_object":{"type":"object","required":["code","extra","id"],"description":"Сведения об обнаруженном объекте","properties":{"id":{"type":"integer","description":"Идентификатор транспортного средства"},"code":{"type":"string","description":"Код транспортного средства"},"extra":{"type":"array","description":"Перечень дополнительных атрибутов по обнаруженному объекту","items":{"type":"object","required":["code","display_order","id","name","value"],"description":"Дополнительная информация","properties":{"code":{"type":"string","description":"Код атрибута"},"display_order":{"type":"integer","description":"Порядковый номер при отображении на портале"},"id":{"type":"integer","description":"Идентификатор атрибута"},"name":{"type":"string","description":"Название атрибута"},"value":{"type":"string","description":"Значение атрибута"}}}}}}}}}}},"timeline_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"timeline_get_occurrence_200":{"type":"object","required":["id","code","timestamp","check_id","location_id","sensor_id","toc_id","tracked_object","thumbnail"],"description":"Сведения о событии","properties":{"id":{"type":"integer","description":"Идентификатор записи"},"code":{"type":"string","description":"Код записи"},"timestamp":{"type":"string","description":"Дата и время совершения в формате \"YYYY-MM-DD HH:MI:SS\""},"check_id":{"type":"integer","description":"Идентификатор проверки"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"tracked_object":{"type":"object","required":["code","extra","id"],"description":"Сведения об обнаруженном объекте","properties":{"id":{"type":"integer","description":"Идентификатор транспортного средства"},"code":{"type":"string","description":"Код транспортного средства"},"extra":{"type":"array","description":"Перечень дополнительных атрибутов по обнаруженному объекту","items":{"type":"object","required":["code","display_order","id","name","value"],"description":"Дополнительная информация","properties":{"code":{"type":"string","description":"Код атрибута"},"display_order":{"type":"integer","description":"Порядковый номер при отображении на портале"},"id":{"type":"integer","description":"Идентификатор атрибута"},"name":{"type":"string","description":"Название атрибута"},"value":{"type":"string","description":"Значение атрибута"}}}}}},"thumbnail":{"type":"object","required":["category_id","compression","content","height","id","image_id","track_box","width"],"description":"Превью изображения по событию","properties":{"category_id":{"type":"integer","description":"Идентификатор категории изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"},"height":{"type":"integer","description":"Высота изображения"},"id":{"type":"integer","description":"Идентификатор превью изображения"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"width":{"type":"integer","description":"Ширина изображения"}}}}},"timeline_get_response_200":{"type":"object","required":["period","events","incidents"],"properties":{"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"events":{"type":"array","description":"Перечень событий","items":{"type":"object","description":"Описание события","$ref":"#/definitions/timeline_get_occurrence_200"}},"incidents":{"type":"array","description":"Перечень инцидентов","items":{"type":"object","description":"Описание инцидента","$ref":"#/definitions/timeline_get_occurrence_200"}}}},"company-sensor_delete_response_204":{"type":"object"},"company-sensor_delete_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-sensor_patch_response_204":{"type":"object"},"company-sensor_patch_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-sensor_request":{"type":"object","description":"Сведения о датчике компании","properties":{"name":{"type":"string","description":"Название датчика"},"description":{"type":"string","description":"Описание датчика"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"address":{"type":"string","description":"Расположение датчика"},"url":{"type":"string","description":"Адрес видеопотока"}}},"company-sensor_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-sensor_get_response_200":{"type":"object","required":["ref","status","metrics"],"description":"Сведения о датчике","properties":{"ref":{"type":"object","required":["address","code","company_id","description","id","location_id","name","url"],"description":"Редко изменяемые справочные данные датчика","properties":{"address":{"type":"string","description":"Расположение датчика"},"code":{"type":"string","description":"Код датчика"},"company_id":{"type":"integer","description":"Идентификатор компании"},"description":{"type":"string","description":"Описание датчика"},"id":{"type":"integer","description":"Идентификатор датчика"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"name":{"type":"string","description":"Краткое название датчика"},"url":{"type":"string","description":"Адрес видеопотока"}}},"status":{"type":"object","required":["id","code","name","description"],"description":"Статус датчика","properties":{"id":{"type":"int","description":"Идентификатор статуса"},"code":{"type":"string","description":"Код статуса"},"name":{"type":"string","description":"Название статуса"},"description":{"type":"string","description":"Описание статуса"}}},"metrics":{"type":"object","required":["active_checks"],"description":"Метрики датчика","properties":{"active_check_category_ids":{"type":"array","description":"Список идентификаторов активных шаблонов","items":{"type":"integer"}},"active_check_ids":{"type":"array","description":"Список идентификаторов активных правил","items":{"type":"integer"}},"active_incident_ids":{"type":"array","description":"Список идентификаторов активных инцидентов","items":{"type":"integer"}},"inactive_check_ids":{"type":"array","description":"Список идентификаторов неактивных правил","items":{"type":"integer"}},"inactive_incident_ids":{"type":"array","description":"Список идентификаторов неактивных инцидентов","items":{"type":"integer"}}}}}},"company-reports_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-reports_post_request":{"type":"object","required":["start_time","end_time","tz_offset","entity_types"],"properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DDTHH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DDTHH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"},"entity_types":{"type":"array","description":"Типы сущностей, по которым строится отчёт","items":{"type":"string","description":"Название сущности отчёта (\"event\", \"incident\" и т.п.)"}},"check_ids":{"in":"body","type":"array","required":false,"description":"Массив идентификаторов правил","items":{"type":"int","description":"Идентификатор правила"}},"check_category_ids":{"in":"body","type":"array","required":false,"description":"Массив идентификаторов правил","items":{"type":"int","description":"Идентификатор правила"}},"location_ids":{"in":"body","type":"array","required":false,"description":"Массив идентификаторов площадок","items":{"type":"int","description":"Идентификатор площадки"}},"sensor_ids":{"in":"body","type":"array","required":false,"description":"Массив идентификаторов датчиков","items":{"type":"int","description":"Идентификатор датчика"}}}},"company-reports_post_response_200":{"type":"object","description":"Excel-файл с отчётом"},"company-sensors_post_response_201":{"type":"object"},"company-sensors_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-sensors_request":{"type":"object","required":["name","description"],"properties":{"name":{"type":"string","description":"Название датчика"},"description":{"type":"string","description":"Описание датчика"},"location_id":{"type":"integer","description":"Идентификатор площадки компании"},"address":{"type":"string","description":"Расположение датчика"},"url":{"type":"string","description":"Адрес видеопотока"}}},"company-sensors_get_response_200":{"type":"object","required":["sensors"],"properties":{"sensors":{"type":"array","items":{"type":"object","required":["ref","status","metrics"],"description":"Сведения о датчике","properties":{"ref":{"type":"object","required":["id","code","name","description","company_id","location_id","address","url"],"description":"Редко изменяемые справочные данные датчика","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"code":{"type":"string","description":"Код датчика"},"name":{"type":"string","description":"Краткое название датчика"},"description":{"type":"string","description":"Описание датчика"},"company_id":{"type":"integer","description":"Идентификатор компании"},"location_id":{"type":"integer","description":"Идентификатор площадки"},"address":{"type":"string","description":"Расположение датчика"},"url":{"type":"string","description":"Адрес видеопотока"}}},"status":{"type":"object","required":["id","code","name","description"],"description":"Статус датчика","properties":{"id":{"type":"integer","description":"Идентификатор статуса"},"code":{"type":"string","description":"Код статуса"},"name":{"type":"string","description":"Название статуса"},"description":{"type":"string","description":"Описание статуса"}}},"metrics":{"type":"object","required":["active_checks"],"description":"Метрики датчика","properties":{"active_check_category_ids":{"type":"array","description":"Список идентификаторов активных шаблонов","items":{"type":"integer"}},"active_check_ids":{"type":"array","description":"Список идентификаторов активных правил","items":{"type":"integer"}},"active_incident_ids":{"type":"array","description":"Список идентификаторов активных инцидентов","items":{"type":"integer"}},"inactive_check_ids":{"type":"array","description":"Список идентификаторов неактивных правил","items":{"type":"integer"}},"inactive_incident_ids":{"type":"array","description":"Список идентификаторов неактивных инцидентов","items":{"type":"integer"}}}}}}}}},"company-reports_get_response_200":{"type":"object","required":["reports"],"properties":{"reports":{"type":"array","items":{"type":"object","required":["id","code","name","description","configuration"],"description":"Сведения об отчёте","properties":{"id":{"type":"integer","description":"Идентификатор отчёта"},"code":{"type":"string","description":"Код отчёта"},"name":{"type":"string","description":"Название отчёта"},"description":{"type":"string","description":"Описание отчёта"},"configuration":{"type":"object","description":"Набор параметров для построения отчёта"}}}}}},"event_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"event_get_response_200":{"type":"object","required":["event"],"properties":{"event":{"type":"object","required":["check_id","event_code","event_id","event_timestamp","location_id","sensor_id","status_id","toc_id","tracked_object"],"description":"Сведения о событии","properties":{"check_id":{"type":"integer","description":"Идентификатор проверки"},"event_code":{"type":"string","description":"Код события"},"event_id":{"type":"integer","description":"Идентификатор события"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"status":{"type":"object","required":["next_ids"],"description":"Статус события","properties":{"current_id":{"type":"integer","description":"Идентификатор текущего статуса"},"next_ids":{"type":"array","description":"Перечень идентификаторов следующих статусов","items":{"type":"integer"}}}},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"tracked_object":{"type":"object","required":["code","extra","id"],"description":"Сведения об обнаруженном объекте","properties":{"id":{"type":"integer","description":"Идентификатор транспортного средства"},"code":{"type":"string","description":"Код транспортного средства"},"extra":{"type":"array","description":"Перечень дополнительных атрибутов по обнаруженному объекту","items":{"type":"object","required":["code","display_order","id","name","value"],"description":"Дополнительная информация","properties":{"code":{"type":"string","description":"Код атрибута"},"display_order":{"type":"integer","description":"Порядковый номер при отображении на портале"},"id":{"type":"integer","description":"Идентификатор атрибутв"},"name":{"type":"string","description":"Название атрибута"},"value":{"type":"string","description":"Значение атрибута"}}}}}},"image":{"type":"object","required":["id","compression","width","height","track_box","content"],"description":"Сведения об изображении","properties":{"id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"width":{"type":"integer","description":"Ширина изображения"},"height":{"type":"integer","description":"Высота изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}},"thumbnail":{"type":"object","required":["category_id","compression","content","height","id","image_id","track_box","width"],"description":"Превью изображения по событию","properties":{"category_id":{"type":"integer","description":"Идентификатор категории изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"},"height":{"type":"integer","description":"Высота изображения"},"id":{"type":"integer","description":"Идентификатор превью изображения"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"width":{"type":"integer","description":"Ширина изображения"}}}}}}},"company-models_request":{"type":"object","required":["model"],"properties":{"model":{"type":"object","required":["code","name","description"],"description":"Сведения о модели","properties":{"code":{"type":"string","description":"Код модели"},"name":{"type":"string","description":"Краткое название модели"},"description":{"type":"string","description":"Описание модели"}}},"tracked_object_categories":{"type":"array","items":{"type":"object","required":["code","name","description"],"description":"Категория отслеживаемого объекта","properties":{"code":{"type":"string","description":"Код категории отслеживаемого объекта в рамках модели"},"name":{"type":"string","description":"Краткое название категории отслеживаемого объекта"},"description":{"type":"string","description":"Описание категории отслеживаемого объекта"}}}}}},"company-models_response_201":{"type":"object"},"events_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"events_get_response_200":{"type":"object","required":["period","pagination","events"],"properties":{"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"pagination":{"type":"object","required":["after_event_id","count","page","page_size"],"description":"Сведения о пагинации данных","properties":{"after_event_id":{"type":"integer","description":null},"count":{"type":"integer","description":"Количество записей на странице"},"page":{"type":"integer","description":"Запрашиваемый номер страницы с данными"},"page_size":{"type":"integer","description":"Запрашиваемое количество записей на странице"}}},"events":{"type":"array","description":"Перечень событий","items":{"type":"object","required":["check_id","event_code","event_id","event_timestamp","location_id","sensor_id","status_id","toc_id","tracked_object"],"description":"Сведения о событии","properties":{"check_id":{"type":"integer","description":"Идентификатор проверки"},"event_code":{"type":"string","description":"Код события"},"event_id":{"type":"integer","description":"Идентификатор события"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"status":{"type":"object","required":["next_ids"],"description":"Статус события","properties":{"current_id":{"type":"integer","description":"Идентификатор текущего статуса"},"next_ids":{"type":"array","description":"Перечень идентификаторов следующих статусов","items":{"type":"integer"}}}},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"tracked_object":{"type":"object","required":["code","extra","id"],"description":"Сведения об обнаруженном объекте","properties":{"id":{"type":"integer","description":"Идентификатор транспортного средства"},"code":{"type":"string","description":"Код транспортного средства"},"extra":{"type":"array","description":"Перечень дополнительных атрибутов по обнаруженному объекту","items":{"type":"object","required":["code","display_order","id","name","value"],"description":"Дополнительная информация","properties":{"code":{"type":"string","description":"Код атрибута"},"display_order":{"type":"integer","description":"Порядковый номер при отображении на портале"},"id":{"type":"integer","description":"Идентификатор атрибута"},"name":{"type":"string","description":"Название атрибута"},"value":{"type":"string","description":"Значение атрибута"}}}}}},"image":{"type":"object","required":["id","compression","width","height","track_box","content"],"description":"Сведения об изображении","properties":{"id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"width":{"type":"integer","description":"Ширина изображения"},"height":{"type":"integer","description":"Высота изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}},"thumbnail":{"type":"object","required":["category_id","compression","content","height","id","image_id","track_box","width"],"description":"Превью изображения по событию","properties":{"category_id":{"type":"integer","description":"Идентификатор категории изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"},"height":{"type":"integer","description":"Высота изображения"},"id":{"type":"integer","description":"Идентификатор превью изображения"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"track_boxes":{"type":"array","description":"Разметка обнаруженных объектов","items":{"type":"object","description":"Разметка обнаруженного объекта","required":["top_x","top_y","bottom_x","bottom_y"],"properties":{"top_x":{"type":"integer","description":"Координата по оси X левого верхнего угла"},"top_y":{"type":"integer","description":"Координата по оси Y левого верхнего угла"},"bottom_x":{"type":"integer","description":"Координата по оси X правого нижнего угла"},"bottom_y":{"type":"integer","description":"Координата по оси Y правого нижнего угла"}}}},"width":{"type":"integer","description":"Ширина изображения"}}}}}}}}},"swagger":"2.0","swaggerUiPrefix":""}
