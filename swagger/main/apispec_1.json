{"info":{"version":"0.16.dev115","title":"va","description":"powered by Flasgger","termsOfService":"/tos"},"paths":{"/api/va/thumbnails":{"get":{"summary":"# Сведения о категориях превью изображений по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о категориях превью изображений по всем компаниям","schema":{"$ref":"#/definitions/thumbnails_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/heartbeat":{"get":{"summary":"# Доступность сервиса","description":"# ","responses":{"200":{"description":"Сервис доступен","schema":{"$ref":"#/definitions/heartbeat_get_response_200"}}},"tags":["Core"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/locations":{"get":{"summary":"# Сведения о всех площадках по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех площадках по всем компаниям","schema":{"$ref":"#/definitions/locations_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/pipelines":{"get":{"summary":"# Сведения о конвейерах обработки данных по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о конвейерах обработки данных по всем компаниям","schema":{"$ref":"#/definitions/pipelines_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/sensors":{"get":{"summary":"# Сведения о всех датчиках по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех датчиках по всем компаниям","schema":{"$ref":"#/definitions/sensors_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/models":{"get":{"summary":"# Сведения о всех моделях расчета по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех моделях расчета по всем компаниям","schema":{"$ref":"#/definitions/models_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/about":{"get":{"summary":"# Сведения о сервисе и API","description":"# ","responses":{"200":{"description":"Сведения о сервисе и API","schema":{"$ref":"#/definitions/about_get_response_200"}}},"tags":["Core"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/tocs":{"get":{"summary":"# Сведения о всех категориях отслеживаемых объектов по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о всех категориях отслеживаемых объектов по всем компаниям","schema":{"$ref":"#/definitions/tocs_get_response_200"}}},"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/inout/stats":{"get":{"summary":"# Учет въезжающих/выезжающих транспортныех средств. Статистика","description":"# ","responses":{"200":{"description":"Статистика по въезжающим/выезжающим транспортным средствам","schema":{"$ref":"#/definitions/inout-events-stats_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0"}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/incidents":{"get":{"summary":"# Инциденты за указанный период","description":"# ","responses":{"200":{"description":"Перечень инцидентов за указанный период","schema":{"$ref":"#/definitions/incidents_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/incidents_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/timeline":{"get":{"summary":"# Хронология событий за сутки в разрезе площадки, датчика и категории транспортного средства","description":"# ","responses":{"200":{"description":"Упорядоченный перечень событий за сутки в разрезе площадки, датчика и категории транспортного средства","schema":{"$ref":"#/definitions/timeline-events_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/timeline-events_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"location_id","in":"query","type":"integer","required":false,"description":"Идентификатор площадки"},{"name":"sensor_id","in":"query","type":"integer","required":false,"description":"Идентификатор датчика"},{"name":"toc_id","in":"query","type":"integer","required":false,"description":"Идентификатор категории отслеживаемого объекта"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала хронологии событий в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания хронологии событий в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/latest":{"get":{"summary":"# Учет въезжающих/выезжающих транспортных средств. Последние события","description":"# ","responses":{"200":{"description":"Последнее событие в разрезе площадки, датчика и категории транспортного средства","schema":{"$ref":"#/definitions/latest-events_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0"}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events/{event_code}/image":{"get":{"summary":"# Актуальное изображение по событию","description":"# ","responses":{"200":{"description":"Найдено актуальное изображение по событию","schema":{"$ref":"#/definitions/event-image_get_response_200"}},"404":{"description":"Изображение не найдено","schema":{"$ref":"#/definitions/event-image_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"event_code","in":"path","type":"string","required":true,"description":"Код события"}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/refs/incidents":{"get":{"summary":"# Справочные сведения об инцидентах","description":"# ","responses":{"200":{"description":"Справочные сведения об инцидентах","schema":{"$ref":"#/definitions/ref-incidents_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Refs"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/thumbnails":{"get":{"summary":"# Сведения о категориях превью изображений по компании","description":"# ","responses":{"200":{"description":"Сведения о категориях превью изображений","schema":{"$ref":"#/definitions/company-thumbnails_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines/{pipeline_id}":{"put":{"summary":"# Изменение существующего конвейера обработки","description":"# ","responses":{"200":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-pipeline_put_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-pipeline_put_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера"},{"name":"request","in":"body","required":true,"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/company-pipeline_put_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о конвейерах обработки данных по всем компаниям","description":"# ","responses":{"200":{"description":"Сведения о площадках компании","schema":{"$ref":"#/definitions/company-pipeline_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"pipeline_id","in":"path","type":"integer","required":true,"description":"Идентификатор конвейера обработки данных"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/locations":{"get":{"summary":"# Сведения о площадках компании","description":"# ","responses":{"200":{"description":"Сведения о площадках компании","schema":{"$ref":"#/definitions/company-locations_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/pipelines":{"post":{"summary":"# Сохранение нового конвейера обработки","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-pipelines_post_response_201"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/company-pipelines_post_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о конвейере обработки данных","schema":{"$ref":"#/definitions/company-pipelines_post_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о конвейерах обработки данных","description":"# ","responses":{"200":{"description":"Сведения о конвейерах обработки данных","schema":{"$ref":"#/definitions/company-pipelines_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/sensors":{"get":{"summary":"# Сведения о датчиках компании","description":"# ","responses":{"200":{"description":"Сведения о датчиках компании","schema":{"$ref":"#/definitions/company-sensors_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/models":{"post":{"summary":"# Сохранение модели и категорий отслеживаемых объектов","description":"# ","responses":{"201":{"description":"Данные успешно сохранены","schema":{"$ref":"#/definitions/company-models_response_201"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"request","in":"body","required":true,"description":"Сведения о модели и категориях отслеживаемых объектов","schema":{"$ref":"#/definitions/company-models_request"}}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]},"get":{"summary":"# Сведения о моделях по компании","description":"# ","responses":{"200":{"description":"Сведения о моделях по компании","schema":{"$ref":"#/definitions/models_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/events":{"get":{"summary":"# События за указанный период","description":"# ","responses":{"200":{"description":"Последнее событие в разрезе площадки, датчика и категории транспортного средства","schema":{"$ref":"#/definitions/events_get_response_200"}},"400":{"description":"Ошибка при валидации параметров запроса","schema":{"$ref":"#/definitions/events_get_error"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"},{"name":"location_ids","in":"query","type":"integer","required":false,"description":"Список идентификаторов площадки через запятую"},{"name":"sensor_ids","in":"query","type":"integer","required":false,"description":"Список идентификаторов датчиков через запятую"},{"name":"toc_ids","in":"query","type":"integer","required":false,"description":"Список идентификаторов категорий отслеживаемых объектов через запятую"},{"name":"tz_offset","in":"query","type":"integer","required":false,"description":"Смещение часового пояса в часах в диапазоне от [-12, +12]. По умолчанию 0."},{"name":"start_time","in":"query","type":"string","required":false,"description":"Локальное дата и время начала временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время минус день."},{"name":"end_time","in":"query","type":"string","required":false,"description":"Локальное дата и время окончания временного диапазона в формате YYYY-MM-DDTHH:MI:SS. По умолчанию, текущее дата и время."}],"tags":["Event"],"consumes":["application/json"],"produces":["application/json"]}},"/api/va/companies/{company_id}/tocs":{"get":{"summary":"# Сведения о категориях отслеживаемых объектов по компании","description":"# ","responses":{"200":{"description":"Сведения о категориях отслеживаемых объектов по компании","schema":{"$ref":"#/definitions/company-tocs_get_response_200"}}},"parameters":[{"name":"company_id","in":"path","type":"integer","required":true,"description":"Идентификатор компании"}],"tags":["Company"],"consumes":["application/json"],"produces":["application/json"]}}},"definitions":{"thumbnails_get_response_200":{"type":"object","required":["thumbnails"],"properties":{"thumbnails":{"type":"array","items":{"type":"object","required":["id","code","name","description","width","height","company_id"],"description":"Сведения о категории превью","properties":{"id":{"type":"integer","description":"Идентификатор превью"},"code":{"type":"string","description":"Код превью"},"name":{"type":"string","description":"Краткое название превью"},"description":{"type":"string","description":"Описание превью"},"width":{"type":"integer","description":"Максимальная ширина изображения"},"height":{"type":"integer","description":"Максимальная высота изображения"},"company_id":{"type":"integer","description":"Идентификатор компании"}}}}}},"heartbeat_get_response_200":{"type":"object"},"locations_get_response_200":{"type":"object","required":["locations"],"properties":{"locations":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","category"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"},"code":{"type":"string","description":"Код площадки"},"name":{"type":"string","description":"Краткое название площадки"},"description":{"type":"string","description":"Описание площадки"},"by_default":{"type":"boolean","description":"Отображаемая площадка по умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"category":{"type":"object","required":["id","code","name","description"],"description":"Категория площадки","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"name":{"type":"string","description":"Краткое название категории"},"code":{"type":"string","description":"Код категории"},"description":{"type":"string","description":"Описание категории"}}}}}}}},"pipelines_get_response_200":{"type":"object","required":["pipelines"],"properties":{"pipelines":{"type":"array","items":{"type":"object","required":["company_id","id","code","name","description","conf"],"description":"Сведения о конвейере","properties":{"company_id":{"type":"integer","description":"Идентификатор компании"},"id":{"type":"integer","description":"Идентификатор конвейера"},"code":{"type":"string","description":"Код конвейера"},"name":{"type":"string","description":"Краткое название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["checks","detector","polygon","tracker"],"description":"Конфигурация конвейера","properties":{"checks":{"type":"array","description":"Набор проверок","items":{"type":"object","required":["id","model_id","sequence"],"description":"Сведения о проверке","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"},"sequence":{"type":"integer","description":"Порядковый номер запуска"}}}},"detector":{"type":"object","required":["id","model_id"],"description":"Сведения о детекторе","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"}}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}},"tracker":{"type":"object","required":["id","model_id"],"description":"Сведения о трекере","properties":{"id":{"type":"integer","description":"Идентификатор трекера"},"model_id":{"type":"integer","description":"Идентификатор модели"}}}}}}}}}},"sensors_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"description":"HTTP-код ответа","type":"integer"}}},"sensors_get_response_200":{"type":"object","required":["sensors"],"properties":{"sensors":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","category"],"description":"Сведения о датчике","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"code":{"type":"string","description":"Код датчика"},"name":{"type":"string","description":"Краткое название датчика"},"description":{"type":"string","description":"Описание датчика"},"by_default":{"type":"boolean","description":"Отображаемый датчик по умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"category":{"type":"object","required":["id","code","name","description"],"description":"Категория датчика","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"name":{"type":"string","description":"Краткое название категории"},"code":{"type":"string","description":"Категория"},"description":{"type":"string","description":"Описание категории"}}}}}}}},"models_get_response_200":{"type":"object","required":["models"],"properties":{"models":{"type":"array","items":{"type":"object","required":["id","code","name","description","company_id","tracked_object_categories"],"description":"Сведения о модели","properties":{"id":{"type":"integer","description":"Идентификатор модели"},"code":{"type":"string","description":"Код модели"},"name":{"type":"string","description":"Краткое название модели"},"description":{"type":"string","description":"Описание модели"},"company_id":{"type":"integer","description":"Идентификатор компании"},"tracked_object_categories":{"type":"array","items":{"type":"object","required":["id","code","name","description"],"description":"Категория отслеживаемого объекта","properties":{"id":{"type":"integer","description":"Идентификатор категории отслеживаемого объекта"},"code":{"type":"string","description":"Код категории отслеживаемого объекта"},"name":{"type":"string","description":"Краткое название категории отслеживаемого объекта"},"description":{"type":"string","description":"Описание категории отслеживаемого объекта"}}}}}}}}},"about_get_response_200":{"type":"object","description":"Сведения о сервисе и API","required":["commit","env","name","resources","timestamp","version"],"properties":{"commit":{"type":"string","description":"Идентификатор последнего коммита"},"env":{"type":"string","description":"Название среды"},"name":{"type":"string","description":"Название сервиса"},"resources":{"type":"array","description":"Методы API","items":{"type":"object","required":["name","methods","section","urls"],"properties":{"name":{"type":"string","description":"Название метода"},"methods":{"type":"array","items":{"type":"string","description":"Доступные HTTP-методы"}},"section":{"type":"string","description":"Раздел"},"urls":{"type":"array","items":{"type":"string","description":"Перечень URL, по которым доступен метод"}}}}},"timestamp":{"type":"string","description":"Дата и время сборки"},"version":{"type":"string","description":"Версия API"}}},"tocs_get_response_200":{"type":"object","required":["tracked_object_categories"],"properties":{"tracked_object_categories":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","models"],"description":"Сведения о категории","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"code":{"type":"string","description":"Код категории"},"name":{"type":"string","description":"Краткое название категории"},"description":{"type":"string","description":"Описание категории"},"by_default":{"type":"boolean","description":"Отображаемая категория умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"models":{"type":"array","items":{"type":"object","required":["id","code","name","description"],"description":"Сведения о модели","properties":{"id":{"type":"integer","description":"Идентификатор модели"},"code":{"type":"string","description":"Код модели"},"name":{"type":"string","description":"Краткое название модели"},"description":{"type":"string","description":"Описание модели"}}}}}}}}},"inout-events-stats_get_response_200":{"type":"object","required":["stats"],"properties":{"stats":{"type":"array","items":{"type":"object","required":["location","sensor","tracked_object_category","today"],"description":"Статистика за текущий день","properties":{"location":{"type":"object","required":["id"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"}}},"sensor":{"type":"object","required":["id"],"description":"Сведения о датчике","properties":{"id":{"type":"integer","description":"Идентификатор датчика"}}},"tracked_object_category":{"type":"object","required":["id"],"description":"Сведения о категории отслеживаемых объектов","properties":{"id":{"type":"integer","description":"Идентификатор категории отслеживаемых объектов"}}},"today":{"type":"object","required":["date","in_count","out_count","filled_count","unfilled_count"],"description":"Метрики","properties":{"in_count":{"type":"integer","description":"Количество въехавших транспортных средств"},"out_count":{"type":"integer","description":"Количество выехавших транспортных средств"},"filled_count":{"type":"integer","description":"Количество транспортных средств с полным кузовом"},"unfilled_count":{"type":"integer","description":"Количество транспортных средств с пустым кузовом"},"date":{"type":"string","description":"Отчетная дата"}}}}}}}},"incidents_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"incidents_get_response_200":{"type":"object","required":["period","incidents"],"properties":{"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"incidents":{"type":"array","description":"Перечень инцидентов","items":{"type":"object","required":["id","incident_id","track_code","event_code","event_timestamp"],"description":"Сведения о событии","properties":{"id":{"type":"integer","description":"Идентификатор экземпляра инцидента"},"incident_id":{"type":"integer","description":"Идентификатор инцидента"},"track_code":{"type":"string","description":"Код обнаруженного транспортного средства"},"event_code":{"type":"string","description":"Код события"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""}}}}}},"timeline-events_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"timeline-events_get_attr":{"type":"object","required":["event_code","event_timestamp"],"description":"Описание атрибута обнаруженного транспортного средства","properties":{"event_code":{"type":"string","description":"Код события, в котором обнаружен атрибут"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""},"value":{"type":"string","description":"Значение атрибута"}}},"timeline-events_get_response_200":{"type":"object","required":["period","events","tracked_objects"],"properties":{"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"events":{"type":"array","description":"Перечень событий","items":{"type":"object","required":["event_code","event_timestamp","location_id","sensor_id","toc_id","check_id","track_code"],"description":"Сведения о событии","properties":{"event_code":{"type":"string","description":"Код события"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"toc_id":{"type":"integer","description":"Идентификатор категории отслеживаемого объекта"},"check_id":{"type":"integer","description":"Идентификатор проверки"},"track_code":{"type":"string","description":"Код обнаруженного транспортного средства"},"thumbnail":{"type":"object","required":["id","category_id","image_id","compression","content"],"description":"Превью зображения по событию","properties":{"id":{"type":"integer","description":"Идентификатор превью изображения"},"category_id":{"type":"integer","description":"Идентификатор категории превью"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}}}}},"tracked_objects":{"type":"array","description":"Перечень обнаруженных транспортных средств","items":{"type":"object","required":["code"],"description":"Сведения об обнаруженном транспортном средстве","properties":{"code":{"type":"string","description":"Код транспортного средства"},"drive_in":{"type":"object","description":"Обнаружен въезд транспортного средства","$ref":"#/definitions/timeline-events_get_attr"},"drive_out":{"type":"object","description":"Обнаружен выезд транспортного средства","$ref":"#/definitions/timeline-events_get_attr"},"license_plate_number":{"type":"object","description":"Распознан государственный регистрационный номер транспортного средства","$ref":"#/definitions/timeline-events_get_attr"},"filled":{"type":"object","description":"Обнаружено транспортное средство с полным кузовом","$ref":"#/definitions/timeline-events_get_attr"},"unfilled":{"type":"object","description":"Обнаружено транспортное средство с пустым кузовом","$ref":"#/definitions/timeline-events_get_attr"}}}}}},"latest-events_get_response_200":{"type":"object","required":["events"],"properties":{"events":{"type":"array","items":{"type":"object","required":["location","sensor","category"],"description":"Сведения о последнем событии","properties":{"location":{"type":"object","required":["id"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"}}},"sensor":{"type":"object","required":["id"],"description":"Сведения о датчике","properties":{"id":{"type":"integer","description":"Идентификатор датчика"}}},"category":{"type":"object","required":["id"],"description":"Сведения о категории отслеживаемых объектов","properties":{"id":{"type":"integer","description":"Идентификатор категории отслеживаемых объектов"}}},"event":{"type":"object","required":["code","timestamp"],"description":"Описание события","properties":{"code":{"type":"string","description":"Идентификатор события"},"timestamp":{"type":"string","description":"Дата и время совершения события"}}},"image":{"type":"object","required":["compression","content"],"description":"Изображение","properties":{"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}},"tracked_object":{"type":"object","required":["code","license_plate_number"],"description":"Сведения об обнаруженном транспортном средстве","properties":{"code":{"type":"string","description":"Код отслеживаемого объекта"},"license_plate_number":{"type":"string","description":"Государственный регистрационный номер транспортного средства"}}}}}}}},"event-image_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"event-image_get_response_200":{"type":"object","required":["image"],"properties":{"image":{"type":"object","required":["id","compression","content"],"description":"Сведения об изображении","properties":{"id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}}}},"ref-incidents_get_response_200":{"type":"object","required":["incidents"],"properties":{"incidents":{"type":"array","items":{"type":"object","required":["id","code","name","description","company_id"],"description":"Сведения об инциденте","properties":{"id":{"type":"integer","description":"Идентификатор инцидента"},"code":{"type":"string","description":"Код инцидента"},"name":{"type":"string","description":"Краткое название инцидента"},"description":{"type":"string","description":"Описание инцидента"},"company_id":{"type":"integer","description":"Идентификатор компании"}}}}}},"company-thumbnails_get_response_200":{"type":"object","required":["thumbnails"],"properties":{"thumbnails":{"type":"array","items":{"type":"object","required":["id","code","name","description","width","height","company_id"],"description":"Сведения о категории превью","properties":{"id":{"type":"integer","description":"Идентификатор превью"},"code":{"type":"string","description":"Код превью"},"name":{"type":"string","description":"Краткое название превью"},"description":{"type":"string","description":"Описание превью"},"width":{"type":"integer","description":"Максимальная ширина изображения"},"height":{"type":"integer","description":"Максимальная высота изображения"},"company_id":{"type":"integer","description":"Идентификатор компании"}}}}}},"company-pipeline_put_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-pipeline_put_request":{"type":"object","required":["name","description","conf"],"properties":{"name":{"type":"string","description":"Название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["check_ids","polygon"],"description":"Конфигурация конвейера","properties":{"check_ids":{"type":"array","description":"Перечень идентификаторов проверок","items":{"type":"integer"}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}}}}}},"company-pipeline_put_response_200":{"type":"object"},"company-pipeline_get_response_200":{"type":"object","required":["pipeline"],"properties":{"pipeline":{"type":"object","required":["company_id","id","code","name","description","conf"],"description":"Сведения о конвейере","properties":{"company_id":{"type":"integer","description":"Идентификатор компании"},"id":{"type":"integer","description":"Идентификатор конвейера"},"code":{"type":"string","description":"Код конвейера"},"name":{"type":"string","description":"Краткое название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["checks","detector","polygon","tracker"],"description":"Конфигурация конвейера","properties":{"checks":{"type":"array","description":"Набор проверок","items":{"type":"object","required":["id","model_id","sequence"],"description":"Сведения о проверке","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"},"sequence":{"type":"integer","description":"Порядковый номер запуска"}}}},"detector":{"type":"object","required":["id","model_id"],"description":"Сведения о детекторе","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"}}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}},"tracker":{"type":"object","required":["id","model_id"],"description":"Сведения о трекере","properties":{"id":{"type":"integer","description":"Идентификатор трекера"},"model_id":{"type":"integer","description":"Идентификатор модели"}}}}}}}}},"company-locations_get_response_200":{"type":"object","required":["locations"],"properties":{"locations":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","category"],"description":"Сведения о площадке","properties":{"id":{"type":"integer","description":"Идентификатор площадки"},"code":{"type":"string","description":"Код площадки"},"name":{"type":"string","description":"Краткое название площадки"},"description":{"type":"string","description":"Описание площадки"},"by_default":{"type":"boolean","description":"Отображаемая площадка по умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"category":{"type":"object","required":["id","code","name","description"],"description":"Категория площадки","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"name":{"type":"string","description":"Краткое название категории"},"code":{"type":"string","description":"Код категории"},"description":{"type":"string","description":"Описание категории"}}}}}}}},"company-pipelines_post_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"company-pipelines_post_request":{"type":"object","required":["name","description","conf"],"properties":{"name":{"type":"string","description":"Название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["check_ids","polygon"],"description":"Конфигурация конвейера","properties":{"check_ids":{"type":"array","description":"Перечень идентификаторов проверок","items":{"type":"integer"}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}}}}}},"company-pipelines_post_response_201":{"type":"object"},"company-pipelines_get_response_200":{"type":"object","required":["pipelines"],"properties":{"pipelines":{"type":"array","items":{"type":"object","required":["company_id","id","code","name","description","conf"],"description":"Сведения о конвейере","properties":{"company_id":{"type":"integer","description":"Идентификатор компании"},"id":{"type":"integer","description":"Идентификатор конвейера"},"code":{"type":"string","description":"Код конвейера"},"name":{"type":"string","description":"Краткое название конвейера"},"description":{"type":"string","description":"Описание конвейера"},"conf":{"type":"object","required":["checks","detector","polygon","tracker"],"description":"Конфигурация конвейера","properties":{"checks":{"type":"array","description":"Набор проверок","items":{"type":"object","required":["id","model_id","sequence"],"description":"Сведения о проверке","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"},"sequence":{"type":"integer","description":"Порядковый номер запуска"}}}},"detector":{"type":"object","required":["id","model_id"],"description":"Сведения о детекторе","properties":{"id":{"type":"integer","description":"Идентификатор проверки"},"model_id":{"type":"integer","description":"Идентификатор модели"}}},"polygon":{"type":"array","description":"Набор точек полигона","items":{"type":"object","required":["x","y","sequence"],"description":"Координаты точки","properties":{"x":{"type":"integer","description":"Координата точки на оси X"},"y":{"type":"integer","description":"Координата точки на оси Y"},"sequence":{"type":"integer","description":"Порядковый номер точки"}}}},"tracker":{"type":"object","required":["id","model_id"],"description":"Сведения о трекере","properties":{"id":{"type":"integer","description":"Идентификатор трекера"},"model_id":{"type":"integer","description":"Идентификатор модели"}}}}}}}}}},"company-sensors_get_response_200":{"type":"object","required":["sensors"],"properties":{"sensors":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","category"],"description":"Сведения о датчике","properties":{"id":{"type":"integer","description":"Идентификатор датчика"},"code":{"type":"string","description":"Код датчика"},"name":{"type":"string","description":"Краткое название датчика"},"description":{"type":"string","description":"Описание датчика"},"by_default":{"type":"boolean","description":"Отображаемый датчик по умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"category":{"type":"object","required":["id","code","name","description"],"description":"Категория датчика","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"name":{"type":"string","description":"Краткое название категории"},"code":{"type":"string","description":"Категория"},"description":{"type":"string","description":"Описание категории"}}}}}}}},"company-models_request":{"type":"object","required":["model"],"properties":{"model":{"type":"object","required":["code","name","description"],"description":"Сведения о модели","properties":{"code":{"type":"string","description":"Код модели"},"name":{"type":"string","description":"Краткое название модели"},"description":{"type":"string","description":"Описание модели"}}},"tracked_object_categories":{"type":"array","items":{"type":"object","required":["code","name","description"],"description":"Категория отслеживаемого объекта","properties":{"code":{"type":"string","description":"Код категории отслеживаемого объекта в рамках модели"},"name":{"type":"string","description":"Краткое название категории отслеживаемого объекта"},"description":{"type":"string","description":"Описание категории отслеживаемого объекта"}}}}}},"company-models_response_201":{"type":"object"},"events_get_error":{"type":"object","required":["details","message","path","status_code"],"description":"Сведения об ошибке","properties":{"details":{"type":"object","description":"Контекст выполнения и значение переменных"},"message":{"type":"string","description":"Сообщение об ошибке"},"path":{"type":"string","description":"Путь к запрашиваемому ресурсу"},"status_code":{"type":"integer","description":"HTTP-код ответа"}}},"events_get_response_200":{"type":"object","required":["period","pagination","events"],"properties":{"period":{"type":"object","required":["start_time","end_time","tz_offset"],"description":"Временной диапазон возвращаемых событий","properties":{"start_time":{"type":"string","description":"Левая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"end_time":{"type":"string","description":"Правая граница диапазона в формате \"YYYY-MM-DD HH:MI:SS\""},"tz_offset":{"type":"integer","description":"Смещение часового пояса в часах"}}},"pagination":{"type":"object","required":["page","page_size","count"],"description":"Сведения о пагинации данных","properties":{"page":{"type":"integer","description":"Запрашиваемый номер страницы с данными"},"page_size":{"type":"integer","description":"Запрашиваемое количество записей на странице"},"count":{"type":"integer","description":"Количество записей на странице"}}},"events":{"type":"array","description":"Перечень событий","items":{"type":"object","required":["event_code","event_timestamp","location_id","sensor_id","toc_id","check_id","status_id"],"description":"Сведения о событии","properties":{"event_code":{"type":"string","description":"Код события"},"event_timestamp":{"type":"string","description":"Дата и время совершения события в формате \"YYYY-MM-DD HH:MI:SS\""},"location_id":{"type":"integer","description":"Идентификатор площадки"},"sensor_id":{"type":"integer","description":"Идентификатор датчика"},"toc_id":{"type":"integer","description":"Идентификатор категории обнаруженного объекта"},"check_id":{"type":"integer","description":"Идентификатор проверки"},"status_id":{"type":"integer","description":"Идентификатор статуса события"},"track_code":{"type":"string","description":"Код обнаруженного транспортного средства"},"thumbnail":{"type":"object","required":["id","category_id","image_id","compression","content"],"description":"Превью изображения по событию","properties":{"id":{"type":"integer","description":"Идентификатор превью изображения"},"category_id":{"type":"integer","description":"Идентификатор категории превью"},"image_id":{"type":"integer","description":"Идентификатор изображения"},"compression":{"type":"string","description":"Формат изображения"},"content":{"type":"string","description":"Содержимое изображения в формате Base64"}}}}}}}},"company-tocs_get_response_200":{"type":"object","required":["tracked_object_categories"],"properties":{"tracked_object_categories":{"type":"array","items":{"type":"object","required":["id","code","name","description","by_default","company_id","models"],"description":"Сведения о категории","properties":{"id":{"type":"integer","description":"Идентификатор категории"},"code":{"type":"string","description":"Код категории"},"name":{"type":"string","description":"Краткое название категории"},"description":{"type":"string","description":"Описание категории"},"by_default":{"type":"boolean","description":"Отображаемая категория умолчанию"},"company_id":{"type":"integer","description":"Идентификатор компании"},"models":{"type":"array","items":{"type":"object","required":["id","code","name","description"],"description":"Сведения о модели","properties":{"id":{"type":"integer","description":"Идентификатор модели"},"code":{"type":"string","description":"Код модели"},"name":{"type":"string","description":"Краткое название модели"},"description":{"type":"string","description":"Описание модели"}}}}}}}}}},"swagger":"2.0","swaggerUiPrefix":""}
